{# À utiliser pour templates/academic_year/new.html.twig et templates/academic_year/edit.html.twig avec de légères modifications #}

{% extends 'base.html.twig' %}

{% block title %}{{ academic_year is defined ? 'Modifier' : 'Créer' }} une année académique{% endblock %}

{% block body %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-2xl font-bold mb-6">
        {{ academic_year is defined ? 'Modifier' : 'Créer' }} une année académique
    </h1>
    
    {% for message in app.flashes('success') %}
        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
            {{ message }}
        </div>
    {% endfor %}
    
    <div class="bg-white shadow-md rounded-lg overflow-hidden p-6">
        {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-2">
                    {{ form_label(form.name, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.name, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm'}}) }}
                    {{ form_errors(form.name, {'attr': {'class': 'text-red-500 text-xs mt-1'}}) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.isCurrent, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    <div class="mt-1">
                        {{ form_widget(form.isCurrent, {'attr': {'class': 'rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50'}}) }}
                    </div>
                    {{ form_errors(form.isCurrent, {'attr': {'class': 'text-red-500 text-xs mt-1'}}) }}
                    <p class="text-xs text-gray-500 mt-1">{{ form_help(form.isCurrent) }}</p>
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.startDate, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.startDate, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm'}}) }}
                    {{ form_errors(form.startDate, {'attr': {'class': 'text-red-500 text-xs mt-1'}}) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.endDate, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.endDate, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm'}}) }}
                    {{ form_errors(form.endDate, {'attr': {'class': 'text-red-500 text-xs mt-1'}}) }}
                </div>
            </div>
            
            <div class="flex justify-between pt-6">
                <a href="{{ path('app_academic_year_index') }}" class="inline-flex items-center px-4 py-2 bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-300 focus:bg-gray-300 active:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150">
                    Retour à la liste
                </a>
                <button type="submit" class="inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150">
                    {{ academic_year is defined ? 'Enregistrer' : 'Créer' }}
                </button>
            </div>
        {{ form_end(form) }}
    </div>
</div>
{% endblock %}